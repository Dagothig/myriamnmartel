$unit: 11pt
$spacing: $unit * 2

$grey-lightest: #eee
$grey-light: #afafaf
$grey-dark: #414141
$grey-darkest: #111

@import 'fonts'

html
    margin: 0
    font-size: $unit
    line-height: $unit

body
    font-family: 'Poppins', sans-serif
    margin: $spacing auto
    padding: 0 $spacing
    max-width: calc(max(80vw, 1280px))
    color: $grey-darkest

h1
    font-size: #{$unit * 3.6}
    line-height: #{$unit * 3.6}
    font-weight: 200
    text-align: center
    margin-top: $spacing * 2
    margin-bottom: $spacing
    a
        text-decoration: none
    p
        font-size: $unit
        font-weight: 200
        margin: 0

$h2-size: #{$unit * 2}
h2
    font-size: $h2-size
    line-height: $h2-size
    font-weight: 200
    text-transform: capitalize

h3
    font-size: $unit
    line-height: $unit * 1.2
    font-weight: 200

nav
    margin: $spacing (-$spacing/2)
    text-align: right
    a
        font-weight: 500
        text-decoration: none
        color: $grey-light
        transition: color 0.15s
        padding: $spacing / 2
        &:hover
            color: $grey-dark
        &+a
            margin-left: 0
        &.active
            color: $grey-darkest

@media (max-width: 576px)
    nav
        text-align: center

a
    color: $grey-darkest
    outline: none

footer
    margin: $spacing * 1.5 0
    text-align: center
    a
        margin: 0 $spacing / 4

.grid
    display: grid
    // Image size is 570px. Half of that is 285px, with a minmax of the half then we never
    // have a greater cell size than 570px.
    grid-template-columns: repeat(auto-fill, minmax(unquote('min(285px, 100%, 50vh)'), 1fr))
    grid-gap: $spacing

.img-container
    position: relative
    padding-bottom: 100%
    background: $grey-lightest
    transition: 0.15s
    overflow: hidden
    img
        position: absolute
        top: 0
        left: 0
        width: 100%
        height: 100%
        object-fit: cover
        color: transparent
    &.dark
        background: $grey-dark

.listing
    text-decoration: none
    .img-container
        width: 100%
    .prompt
        text-decoration: underline

span.right
    float: right

a:hover .img-container, a.img-container:hover
    cursor: pointer
    opacity: 0.6
    box-shadow: rgba($grey-darkest, 0.3) 0 $spacing/16 $spacing/4

.lightbox
    color: $grey-lightest
    .item
        display: flex
        flex-direction: column
        align-items: center
        justify-content: center
        position: fixed
        top: 0
        left: 0
        right: 0
        bottom: 0
        background: rgba($grey-darkest, 0.9)
        img
            margin: $spacing
            width: calc(100% - #{$spacing * 2})
            height: 0
            flex-grow: 1
            object-fit: contain
        h2
            margin-top: 0
            margin-bottom: $spacing
        .control
            position: absolute
            font-family: monospace
            font-size: #{$unit * 5}
            line-height: 1em
            text-decoration: none
            display: flex
            align-items: center
            &.left
                left: 0
                top: 0
                right: 50%
                bottom: 0
                align-items: flex-end
                span
                    background-image: url(/svg/angle-left-solid.svg)
            &.right
                left: 50%
                top: 0
                right: 0%
                bottom: 0
                justify-content: flex-end
                align-items: flex-end
                span
                    background-image: url(/svg/angle-right-solid.svg)
            &.close
                top: 0
                right: 0
                span
                    background-image: url(/svg/times-solid.svg)
            $control-size: $h2-size
            span
                width: $control-size
                height: $control-size
                margin: $spacing
                box-sizing: content-box
                filter: invert(100%)
                background-position: center
                background-repeat: no-repeat
                background-size: $control-size $control-size
    .item:not(:target)
        display: none

.brand
    font-size: #{$unit * 1.5}
    width: $unit
    height: $unit
